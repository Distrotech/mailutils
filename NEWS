GNU mailutils NEWS -- history of user-visible changes.  2004-12-23
Copyright (C) 2002, 2003, 2004 Free Software Foundation, Inc.
See the end of file for copying conditions.

Please send mailutils bug reports to <bug-mailutils@gnu.org>.

Version 0.6.1:

* libsieve: New action 'vacation'

* imap4d: Implemented SASL authentication using LOGIN and PLAIN mechanisms.

* New SQL driver: odbc

* Ukrainian localization

* Bugfixes

** Fixed possible mailbox corruption in imap4d
** imap4d subscribe/unsubscribe was not working
** Fixed displaying mail headers in different languages (mail,frm,from)
** SQL authentication: prevent sql injection attacks


Version 0.6:

* New features:

** Both imap4d and pop3d accept new command line option `--tls-required'.

The option disables any authentication commands until the client party
establishes TLS connection with the server.

** Pop3d server accepts new option `--delete-expired'.

This option is to be used together with `--expire'. It enables
automatic deletion of expired messages before closing the
mailbox. Previous versions of pop3d relied on a cron job that
was supposed to purge users' mailboxes, but such usage is extremely
ineffective for mail servers with considerable number of users.

** The package can be compiled with support for both MySQL and PostgreSQL
simultaneously. Which of the interfaces to use is defined at run time
by --sql-interface option.

** Mail.local is able to retrieve mailbox quotas from SQL database.

* movemail: Special mode for interfacing with Emacs (--emacs option)

* Bug fixes


Version 0.5:

* New features:

** Autodetection of local folder formats.

"Local" is a format of mail folder that uses local disk (possibly via
NFS) as its storage medium. Currently mailutils is able to handle
three local formats: UNIX mailbox, MH and Maildir. Usually these are
specified using a corresponding URL prefix. However, if an absolute
path name is given instead of a fully qualified URL, mailutils tries to
autodetect the format of the folder in question and handle it
appropriately (previous versions of mailutils assumed the folder
to be in UNIX mailbox format).

** movemail: new program

Moves mail from the user maildrop (remote or local) to the local file.
It supports all mailbox formats, supported by mailutils.

** Support for "maildir" format.

** sieve:

*** Considerably improved debugging diagnostics.
*** New sieve extension tests:

  spamd	      -		An interface to SpamAssassin daemon
  list	      -		Test headers, structured as lists of values.
  timestamp   -		Compares headers containing dates. 

** mail
*** Support for -a option (append header)
*** New command 'sendheaders' allows to pre-set the headers to be added to
the message.
*** New commands 'sender' and 'nosender' allow to set up a list
of header fields used to determine the sender of the message.
*** New variable 'xmailer' controls whether an X-Mailer header should
be added to outgoing messages.
*** New variables 'datefield' and 'emptystart' for compatibility with
nail
*** New variable 'decode-fallback' controls how to represent the characters
that cannot be rendered using current character set.

** mail.remote
*** Support for -t option (read recipients from the message). This fixes
the bug reported lately where mail.remote sends mail to all addresses
in the message, not just the addresses explicitly listed on the
command line.

** pop3d
*** New option --login-delay. Support for login-delay
*** New option --undelete. Forces pop3d to clear deletion
marks from all messages after opening the mailbox.

* Bug fixes:

** libmailbox
*** Fixed incorrect handling of underscores in Quoted-Printable encoding.
*** rfc2047_decode() takes into account input and output
character sets.

** mh
*** (formataddr): Fixed checking for duplicate addresses.

** pop3d:
*** Do not save delete marks when exiting on timeout.

** imap4d
*** Fixed bug that prevented SASL from working over a TLS encrypted
channel.
*** IDLE works on TLS connections.


Version 0.4:

* Bug fixes:

** Fixed improper use of size_t instead of off_t which caused
coredumps on systems where the two types have different sizes.

** iterator_t is rewritten to make list traversal more effective.
Traversing the list of n elements takes O(n), instead of O(n*(n+1)/2)
time units.

** Fixed memory allocation bug in mailbox/mu_auth.c

** Various fixes and improvements in MH in order to interoperate better
with MH-E.

** Correctly handle MIME parts with an empty body.

* Major Changes

** The library has been split into the core library (libmailbox), and
the protocol implementation libraries, which are named as
libmu_$PROTO. For example, the library for MBOX mailbox formats is
libmu_mbox.so.

** The support for TLS protocol has been added to libmu_imap.so and
libmu_pop.so. This means that you can now use TLS with every
Mailutils client program.

* New features.

** libmailbox

** See "Major Changes"

*** implemented header unfolding

*** argcv_get unescapes all unprintable characters, argcv_string
escapes them.

** libsieve: Implemented boolean shortcuts for evaluating ALLOF and
ANYOF

** pop3d

*** more extensive diagnostics for APOP authentications

*** Save headers even if the session was aborted. This ensures
the persistence of message unique-ids as required by RFC 1939.

*** popauth: new option --create.

The option allows to convert a plaintext file into DBM database.

** mail

*** New configuration file variable `mailx' enables the mailx
compatibility mode. This is mainly visible when composing a message.
In mailx compatibility mode, mail asks for Cc and Bcc addresses after
composing the body.
The default behavior is to ask for these values before composing
the body.

*** New variable `charset' controls the decoding of MIME-encoded headers
(rfc2047).

*** New commands `unfold' and `nounfold' allow to specify the headers
whose values should be unfolded before display.

* mh

Lots of bugfixes regarding compatibility issues and interoperation
with MH-E. This version of MH has been tested with MH-E 7.4.2+cvs.

** New program: ali

** New profile variables:
*** Charset
Controls the character set in which the components decoded via
the `decode' format function should be output.

*** Reply-Regex
Sets the regular expression used to recognize reply messages.

** New format functions
*** reply_regex
Sets the regular expression used to recognize reply messages.

*** isreply
Returns true if its argument is the reply message subject string,
i.e. if it matches the "reply subject" regular expression.


Version 0.3.1:

This version is a maintenance release over the previous one.

* Bug fixes:

** A replacement for vsyslog is provided for systems lacking it.
** Fixed incorrect handling of dates.
** Added support for handling Fcc: headers to the mailer code.
** Several minor fixes to allow the package to compile on MacOS.

* New features:

** Support for authentication against PostgreSQL databases.

* libmailbox:

** First implementation of rfc1524: added a set of functions for handling
mail capabilities

* mh: All utilities needed by Emacs mh-e.el module are implemented.


Version 0.3:

* General:

** Added NLS support. Currently Catalan and Spanish translations
are available.

** Fixed compilation with the newer versions of Berkeley DB.

* libmailbox:

** Functions for generating References: and In-Reply-To: headers as
per RFC 2822.

** A set of functions for sequential access to streams.

** The function mu_errstring is renamed to mu_strerror for consistency
with the usual practice.

** Added initial implementation of message header encoding and decoding
functions (RFC 2047).

* libsieve:

** The syntax of multiline strings is extended. It is possible
to use arbitrary ending delimiter instead of the default dot,
and to strip off the leading tabs, which allows for natural
indentation of the multiline strings.

** Added support for relational tests according to RFC 3431.

** Fixed incorrect handling of multiple addresses in `address'
tests.

* imap4d:

** The untagged output was fixed to conform to the RFC 2060. Specifically,
the output of STORE command is corrected in accordance with the
rfc2060-errata document; the EXIST and RECENT untagged are always
returned by EXAMINE, SELECT, and NOOP.

** Added support for TLS and GSASL.

** Implemented LOGINDISABLED capability.

** Implemented IDLE command (RFC 2177).

* pop3d: Added TLS support.

* mail: Fixed error diagnostics and removed startup banner.

* mh: Initial implementation. The basic MH utilities are implemented
that allow to use the package with the GNU Emacs mh-e module. Please
refer to the files README and TODO in the mh subdirectory.


Version 0.2:

* libmailbox: Several bugfixes. The configuration suite allows
  to disable support for any protocol or mailbox format to reduce
  the size of the library.

* Added new utility mailutils-config. This utility prints gcc command
  line options needed for compiling and linknig an application against
  mailutils.

* libsieve: New library. Supports Sieve language as described in
  RFC 3028 and provides a mechanism for dynamic loading of
  user-defined actions, tests and comparators.

* sieve: Completely rewritten using libsieve.

* sieve.scm: Added vacation extension action.

* mail.local: Allows to apply user-defined sieve filters before delivering
  messages.

* mail utility: Added `editheaders' boolean variable. When set, the
  user is allowed to edit headers of the message.
  Message set specification allows negation of search primitives, e.g.
  `from ! subject:/daily/' outputs all messages whose subject
  does not contain the word 'daily'.
  Reply command correctly adds `In-Reply-To' and `References' headers
  to outgoing messages.
  When used with a numeric argument '=' command sets the current
  message to this number.
  New command `setenv' allows to set and examine environment
  variables.
  The semantics of `crt' variable is made compatible with that of
  other implementations.
  Fixed several bugs.

* libmu_scm: Added support for Guile 1.7.0


Version 0.1:

The first release.


----------------------------------------------------------------------
Copyright information:

Copyright (C) 2002, 2003, 2004 Free Software Foundation, Inc.

   Permission is granted to anyone to make or distribute verbatim copies
   of this document as received, in any medium, provided that the
   copyright notice and this permission notice are preserved,
   thus giving the recipient permission to redistribute in turn.

   Permission is granted to distribute modified versions
   of this document, or of portions of it,
   under the above conditions, provided also that they
   carry prominent notices stating who last changed them.

Local variables:
mode: outline
paragraph-separate: "[ 	]*$"
end:
